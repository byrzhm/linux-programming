# grep

## 用法

## 用例

### 去掉文件中的所有空行

使用 `grep` 命令可以用正则表达式对文本文件过滤，-v选项用于筛选掉能匹配指定正则表达式的行，描述一个空行的正则表达式为 `^ *$`，即：从行首开始(^)，有零个到多个空格( \*)，然后是行尾($)，命令为：

``` shell
grep -v '^ *$' list.txt > list-new.txt
```

### 检索目录 src 以及其子孙目录中的所有文件名后缀为 .c 和 .h 文件，查找哪些文件中含有字符串 TPDU，并列出在这文件中的行号

使用 `find` 命令和 `grep` 命令。`find` 命令可以在指定的目录树中查找满足某个条件的文件或目录，并对查找到的满足条件的对象执行一个动作。指定查找条件为 "文件名后缀为 .c 和 .h"，动作为 "查找哪些文件中含有字符串 TPDU，并列出在这文件中的行号"，分别是 `find` 的 `-name` 和 `-exec` 选项。

完整的命令为：

``` shell
find src -name "*.[ch]" -exec grep -n TPDU {} /dev/null \;
```

>
> /dev/null 的意义是让 grep 的输入文件数大于 1，这样 grep 输出时会携带文件名
> 

